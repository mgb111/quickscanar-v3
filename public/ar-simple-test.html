<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>Simple AR Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background: #000;
            font-family: Arial, sans-serif;
        }
        a-scene {
            width: 100vw;
            height: 100vh;
        }
        .status {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
            font-size: 12px;
        }
    </style>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
</head>
<body>
    <div class="status" id="status">Loading AR...</div>
    
    <a-scene
        mindar-image="imageTargetSrc: https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/card-example/card.mind; filterBeta: 0.05; filterMinCF: 0.02; warmupTolerance: 10; missTolerance: 10"
        color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
        embedded
        loading-screen="enabled: false"
    >
        <a-assets>
            <img id="card" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/card-example/card.png" crossorigin="anonymous" />
        </a-assets>
        
        <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
        
        <a-entity mindar-image-target="targetIndex: 0" id="target">
            <a-plane 
                src="#card"
                position="0 0 0"
                height="0.552"
                width="1"
                rotation="0 0 0"
                material="shader: flat"
            ></a-plane>
        </a-entity>
    </a-scene>
    
    <script>
        const status = document.getElementById('status');
        
        function updateStatus(message) {
            status.textContent = message;
            console.log(message);
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            updateStatus("AR Test loaded");
            
            const scene = document.querySelector("a-scene");
            const target = document.querySelector("#target");
            
            if (scene) {
                scene.addEventListener("loaded", () => {
                    updateStatus("‚úÖ AR Scene loaded");
                });
                
                scene.addEventListener("renderstart", () => {
                    updateStatus("‚úÖ AR rendering started");
                });
                
                scene.addEventListener("error", (error) => {
                    updateStatus("‚ùå AR Scene error: " + error);
                });
            }
            
            if (target) {
                target.addEventListener("targetFound", () => {
                    updateStatus("üéØ Target found!");
                });
                
                target.addEventListener("targetLost", () => {
                    updateStatus("‚ùå Target lost");
                });
            }
            
            // Check for common issues
            setTimeout(() => {
                updateStatus("Checking setup...");
                
                if (typeof AFRAME !== 'undefined') {
                    updateStatus("‚úÖ A-Frame loaded");
                } else {
                    updateStatus("‚ùå A-Frame not loaded");
                }
                
                if (typeof MINDAR !== 'undefined') {
                    updateStatus("‚úÖ MindAR loaded");
                } else {
                    updateStatus("‚ùå MindAR not loaded");
                }
                
                if (location.protocol === 'https:' || location.hostname === 'localhost') {
                    updateStatus("‚úÖ HTTPS/localhost detected");
                } else {
                    updateStatus("‚ùå Not HTTPS - camera may not work");
                }
            }, 2000);
        });
    </script>
</body>
</html> 